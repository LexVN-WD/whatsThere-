// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id            Int      @id @default(autoincrement())
  email         String   @unique @db.VarChar(255)
  name          String   @db.VarChar(255)
  password      String
  address       String   @db.VarChar(255)
  city          String   @db.VarChar(255)
  trip_planners trip_planner[]
}

model trip_planner {
  id            Int         @id @default(autoincrement())
  user          user        @relation(fields: [userId], references: [id])
  userId        Int
  landmark      landmark    @relation(fields: [landmarkId], references: [id])
  landmarkId    Int
  destination   destination @relation(fields: [destinationId], references: [id])
  destinationId Int 
}

model landmark {
  id            Int      @id @default(autoincrement())
  name          String   @db.VarChar(255)
  city          String   @db.VarChar(255)
  trip_planners trip_planner[]
}

model destination {
  id            Int      @id @default(autoincrement())
  name          String  @db.VarChar(255)
  address       String   @db.VarChar(255)
  city          String   @db.VarChar(255)
  trip_planners trip_planner[]
  attraction    attraction[]
}

model attraction {
  id            Int      @id @default(autoincrement())
  name          String   @db.VarChar(255)
  address       String   @db.VarChar(255)
  city          String   @db.VarChar(255)
  rating        Int
  startTime     DateTime @default(dbgenerated("NOW() + interval '1 hour'"))
  endTime       DateTime @default(dbgenerated("NOW() + interval '3 hours'")) 
  destination   destination @relation(fields: [destinationId], references: [id])
  destinationId Int
}